!function(root,factory){"object"==typeof exports&&"object"==typeof module?module.exports=factory(require("babel-runtime/core-js/object/assign"),require("babel-runtime/core-js/object/keys"),require("popsicle"),require("bluebird"),require("xml2js"),require("babel-runtime/core-js/json/stringify"),require("cheerio"),require("traverse")):"function"==typeof define&&define.amd?define("wajs",["babel-polyfill","babel-runtime/core-js/object/assign","babel-runtime/core-js/object/keys","popsicle","bluebird","xml2js","babel-runtime/core-js/json/stringify","cheerio","traverse"],factory):"object"==typeof exports?exports.wajs=factory(require("babel-polyfill"),require("babel-runtime/core-js/object/assign"),require("babel-runtime/core-js/object/keys"),require("popsicle"),require("bluebird"),require("xml2js"),require("babel-runtime/core-js/json/stringify"),require("cheerio"),require("traverse")):root.wajs=factory(root["babel-polyfill"],root["babel-runtime/core-js/object/assign"],root["babel-runtime/core-js/object/keys"],root.popsicle,root.bluebird,root.xml2js,root["babel-runtime/core-js/json/stringify"],root.cheerio,root.traverse)}(this,function(__WEBPACK_EXTERNAL_MODULE_1__,__WEBPACK_EXTERNAL_MODULE_4__,__WEBPACK_EXTERNAL_MODULE_7__,__WEBPACK_EXTERNAL_MODULE_8__,__WEBPACK_EXTERNAL_MODULE_9__,__WEBPACK_EXTERNAL_MODULE_10__,__WEBPACK_EXTERNAL_MODULE_12__,__WEBPACK_EXTERNAL_MODULE_13__,__WEBPACK_EXTERNAL_MODULE_14__){return function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={exports:{},id:moduleId,loaded:!1};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.loaded=!0,module.exports}var installedModules={};return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.p="",__webpack_require__(0)}([function(module,exports,__webpack_require__){__webpack_require__(1),module.exports=__webpack_require__(2)},function(module,exports){module.exports=require("babel-polyfill")},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _wajs=__webpack_require__(3),_wajs2=_interopRequireDefault(_wajs);module.exports=_wajs2.default},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function wajs(appId){if(!appId||!appId.length)throw new Error(_constants2.default.noAppIdError);var q={query:{appid:appId}};this.__requestOptions=(0,_assign2.default)({},_constants2.default.defaultQueryOptions,q)}Object.defineProperty(exports,"__esModule",{value:!0});var _assign=__webpack_require__(4),_assign2=_interopRequireDefault(_assign),_constants=__webpack_require__(5),_constants2=_interopRequireDefault(_constants),_query=__webpack_require__(6),_query2=_interopRequireDefault(_query);wajs.prototype={constructor:wajs,query:_query2.default},exports.default=wajs},function(module,exports){module.exports=require("babel-runtime/core-js/object/assign")},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var queryMap={podTitle:"podtitle",podIndex:"podindex",includePodId:"includepodid",excludePodId:"excludepodid",coordinates:"latlong",podState:"podstate",maxWidth:"maxwidth",plotWidth:"plotWidth",magnitude:"mag",scanTimeout:"scantimeout",podTimeout:"podtimeout",parseTimeout:"parsetimeout",formatTimeout:"formattimeout",ignoreCase:"ignorecase"},defaultQueryOptions={method:"GET",url:"http://api.wolframalpha.com/v2/query",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}},setAppIdCmd='export WA_APP_ID="<YOUR KEY HERE>"',setAppIdError="The Wolfram|Alpha API will not work without your APP_ID",noAppIdError=setAppIdError+". Before reinitializing wajs, run "+setAppIdCmd+".",constants={queryMap:queryMap,defaultQueryOptions:defaultQueryOptions,noAppIdError:noAppIdError};exports.default=constants},function(module,exports,__webpack_require__){"use strict";function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function generateQuery(input,options){var q=(0,_assign2.default)({},this.__requestOptions);return input&&input.length&&(q.query.input=input),(0,_keys2.default)(options||{}).forEach(function(key){if(options.hasOwnProperty(key)&&options[key]){var qKey=_constants2.default.queryMap[key]||key;q.query[qKey]=options[key]}}),q}function processQueryResponse(y,n,res){res.status>=200&&res.status<400&&$parseXML(res.body,function(err,xml){err&&n(err),y(new _query_result2.default(xml,res.body))})}function query(input,queryOptions){return new _bluebird.Promise(function(y,n){var prefix=input||"",opts=queryOptions||{};$net.request(generateQuery.call(this,prefix,opts)).then(processQueryResponse.bind(this,y,n)).catch(n)}.bind(this))}Object.defineProperty(exports,"__esModule",{value:!0});var _keys=__webpack_require__(7),_keys2=_interopRequireDefault(_keys),_assign=__webpack_require__(4),_assign2=_interopRequireDefault(_assign),_popsicle=__webpack_require__(8),$net=_interopRequireWildcard(_popsicle),_bluebird=__webpack_require__(9),_xml2js=__webpack_require__(10),$x=_interopRequireWildcard(_xml2js),_constants=__webpack_require__(5),_constants2=_interopRequireDefault(_constants),_query_result=__webpack_require__(11),_query_result2=_interopRequireDefault(_query_result),$parseXML=(new $x.Parser).parseString;exports.default=query},function(module,exports){module.exports=require("babel-runtime/core-js/object/keys")},function(module,exports){module.exports=require("popsicle")},function(module,exports){module.exports=require("bluebird")},function(module,exports){module.exports=require("xml2js")},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function queryResult(xml,rawXml){if(!xml||!xml.queryresult)throw new Error("Invalid query result format");this.__xml=xml,this.__raw=rawXml||"",this.__root=liftAttributes((0,_assign2.default)({},xml.queryresult)),this.__pods=(this.__root.pod||[]).map(function(_pod){return new _pod3.default(_pod,this)}.bind(this))}function liftAttributes(obj){return lift((0,_assign2.default)({},obj))}function lift(tree){return(0,_traverse2.default)(tree).forEach(function(){if("$"===this.key){var currentPath=this.path.slice(0,this.path.length-1);this.delete(),this.keys.forEach(function(key){(0,_traverse2.default)(tree).set(currentPath.concat(key),this.node[key])}.bind(this))}}),tree}function toJson(){return(0,_stringify2.default)(this.__root)}function rawXml(){return this.__raw}function succeeded(){return"true"===this.__root.success}function failed(){return"true"===this.__root.error}function numPods(){return Number(this.__root.numpods||0)}function dataTypes(){return(this.__root.datatypes||"").split(",")}function error(){return this.__xml.queryresult.error||null}function pods(xmlFormat){return xmlFormat?getNodes.call(this,"pod"):this.__pods}function assumptions(xmlFormat){return xmlFormat?getNodes.call(this,"assumptions"):(this.__root.assumptions||[]).map(function(_assumption){return new _assumption3.default(_assumption.assumption[0],this)}.bind(this))}function sources(xmlFormat){return xmlFormat?getNodes.call(this,"sources"):this.__root.sources}function warnings(xmlFormat){return xmlFormat?getNodes.call(this,"warnings"):this.__root.warnings}function getNodes(key,xml){var __stack=[],__xml=xml?xml:_cheerio2.default.load(this.__raw,xmlOptions());return traverse(__stack,__xml.root(),collect.bind(this,key)),__stack.map(function(_node){return _cheerio2.default.load(_node,xmlOptions()).xml()})}function xmlOptions(){return{xmlMode:!0}}function traverse(stack,parsedXML,action){var __$root=(0,_cheerio2.default)(parsedXML),__root=__$root.get(0);action(stack,__root);var children=__$root.children();children.length&&children.each(function(i,el){traverse(stack,el,action)})}function collect(key,stack,__root){__root.tagName===key&&stack.push(__root)}Object.defineProperty(exports,"__esModule",{value:!0});var _stringify=__webpack_require__(12),_stringify2=_interopRequireDefault(_stringify),_assign=__webpack_require__(4),_assign2=_interopRequireDefault(_assign),_cheerio=__webpack_require__(13),_cheerio2=_interopRequireDefault(_cheerio),_traverse=__webpack_require__(14),_traverse2=_interopRequireDefault(_traverse),_pod2=__webpack_require__(15),_pod3=_interopRequireDefault(_pod2),_assumption2=__webpack_require__(17),_assumption3=_interopRequireDefault(_assumption2);queryResult.prototype={constructor:queryResult,rawXml:rawXml,toJson:toJson,succeeded:succeeded,failed:failed,numPods:numPods,dataTypes:dataTypes,error:error,pods:pods,assumptions:assumptions,sources:sources,warnings:warnings},exports.default=queryResult},function(module,exports){module.exports=require("babel-runtime/core-js/json/stringify")},function(module,exports){module.exports=require("cheerio")},function(module,exports){module.exports=require("traverse")},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function pod(data,parent){(0,_assign2.default)(this,data),parent&&(this.__parent=parent),this.__data=data}function failed(){return"true"===this.error}function succeeded(){return!podFailed.call(this)}function numSubPods(){return Number(this.numsubpods||0)}function title(){return this.title||""}function scanner(){return this.scanner||""}function position(){return Number(this.position||0)}function asyncUrl(){return this.asynchurl||""}function subPods(xmlFormat){return xmlFormat?childXml.call(this,"subpod"):(this.subpod||[]).map(function(subpod){return new _subpod2.default(subpod)})}function states(xmlFormat){return xmlFormat?childXml.call(this,"states"):this.states||[]}function infos(xmlFormat){return xmlFormat?childXml.call(this,"infos"):this.infos||[]}function childXml(key){var __xml=_cheerio2.default.load(this.rawXml.call(this),xmlOptions()),__podXml=_cheerio2.default.load(__xml.root().get(0).children[0],xmlOptions()),items=[];return __podXml(key).each(function(i,el){var x=_cheerio2.default.load((0,_cheerio2.default)(el).get(0),xmlOptions()).xml()||"";items.push(x)}),items}function rawXml(){return rootXml.call(this,"pod")}function xmlOptions(){return{xmlMode:!0}}function rootXml(key){var __xml=_cheerio2.default.load(this.__parent.rawXml.call(this.__parent),xmlOptions()),__id=this.id,__filtered=__xml(key).filter(function(i,el){return(0,_cheerio2.default)(el).attr("id")===__id}),items=[];return __filtered.each(function(i,el){var x=_cheerio2.default.load((0,_cheerio2.default)(el).get(0),xmlOptions()).xml()||"";items.push(x)}),items}Object.defineProperty(exports,"__esModule",{value:!0});var _assign=__webpack_require__(4),_assign2=_interopRequireDefault(_assign),_cheerio=__webpack_require__(13),_cheerio2=_interopRequireDefault(_cheerio),_subpod=__webpack_require__(16),_subpod2=_interopRequireDefault(_subpod);pod.prototype={constructor:pod,failed:failed,succeeded:succeeded,numSubPods:numSubPods,getTitle:title,getScanner:scanner,getPosition:position,asyncEndpoint:asyncUrl,subPods:subPods,getStates:states,getInfos:infos,rawXml:rawXml},exports.default=pod},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function subPod(data){return(0,_assign2.default)(this,data)}function plainText(){return this.plaintext||""}function img(){return this.img||""}function title(){return this.title||""}Object.defineProperty(exports,"__esModule",{value:!0});var _assign=__webpack_require__(4),_assign2=_interopRequireDefault(_assign);subPod.prototype={constructor:subPod,getTitle:title,getPlainText:plainText,getImg:img},exports.default=subPod},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function assumption(data,parent){(0,_assign2.default)(this,data),parent&&(this.__parent=parent),this.__data=data}function type(){return this.type||""}function count(){return this.count||"0"}function template(){return this.template||""}function word(){return this.word||""}function value(){return this.value||[]}Object.defineProperty(exports,"__esModule",{value:!0});var _assign=__webpack_require__(4),_assign2=_interopRequireDefault(_assign);assumption.prototype={constructor:assumption,getType:type,getCount:count,getTemplate:template,getWord:word,getValue:value},exports.default=assumption}])});
//# sourceMappingURL=wajs.min.js.map