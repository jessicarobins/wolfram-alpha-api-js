!function(root,factory){"object"==typeof exports&&"object"==typeof module?module.exports=factory(require("popsicle"),require("bluebird"),require("xml2js"),require("cheerio"),require("traverse")):"function"==typeof define&&define.amd?define("wajs",["popsicle","bluebird","xml2js","cheerio","traverse"],factory):"object"==typeof exports?exports.wajs=factory(require("popsicle"),require("bluebird"),require("xml2js"),require("cheerio"),require("traverse")):root.wajs=factory(root.popsicle,root.bluebird,root.xml2js,root.cheerio,root.traverse)}(this,function(__WEBPACK_EXTERNAL_MODULE_46__,__WEBPACK_EXTERNAL_MODULE_47__,__WEBPACK_EXTERNAL_MODULE_48__,__WEBPACK_EXTERNAL_MODULE_52__,__WEBPACK_EXTERNAL_MODULE_53__){return function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={exports:{},id:moduleId,loaded:!1};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.loaded=!0,module.exports}var installedModules={};return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.p="",__webpack_require__(0)}([function(module,exports,__webpack_require__){module.exports=__webpack_require__(1)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _wajs=__webpack_require__(2),_wajs2=_interopRequireDefault(_wajs);module.exports=_wajs2.default},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function wajs(appId){if(!appId||!appId.length)throw new Error(_constants2.default.noAppIdError);var q={query:{appid:appId}};this.__requestOptions=(0,_assign2.default)({},_constants2.default.defaultQueryOptions,q)}Object.defineProperty(exports,"__esModule",{value:!0});var _assign=__webpack_require__(3),_assign2=_interopRequireDefault(_assign),_constants=__webpack_require__(40),_constants2=_interopRequireDefault(_constants),_query=__webpack_require__(41),_query2=_interopRequireDefault(_query);wajs.prototype={constructor:wajs,query:_query2.default},exports.default=wajs},function(module,exports,__webpack_require__){module.exports={default:__webpack_require__(4),__esModule:!0}},function(module,exports,__webpack_require__){__webpack_require__(5),module.exports=__webpack_require__(8).Object.assign},function(module,exports,__webpack_require__){var $export=__webpack_require__(6);$export($export.S+$export.F,"Object",{assign:__webpack_require__(21)})},function(module,exports,__webpack_require__){var global=__webpack_require__(7),core=__webpack_require__(8),ctx=__webpack_require__(9),hide=__webpack_require__(11),PROTOTYPE="prototype",$export=function(type,name,source){var key,own,out,IS_FORCED=type&$export.F,IS_GLOBAL=type&$export.G,IS_STATIC=type&$export.S,IS_PROTO=type&$export.P,IS_BIND=type&$export.B,IS_WRAP=type&$export.W,exports=IS_GLOBAL?core:core[name]||(core[name]={}),expProto=exports[PROTOTYPE],target=IS_GLOBAL?global:IS_STATIC?global[name]:(global[name]||{})[PROTOTYPE];IS_GLOBAL&&(source=name);for(key in source)own=!IS_FORCED&&target&&void 0!==target[key],own&&key in exports||(out=own?target[key]:source[key],exports[key]=IS_GLOBAL&&"function"!=typeof target[key]?source[key]:IS_BIND&&own?ctx(out,global):IS_WRAP&&target[key]==out?function(C){var F=function(a,b,c){if(this instanceof C){switch(arguments.length){case 0:return new C;case 1:return new C(a);case 2:return new C(a,b)}return new C(a,b,c)}return C.apply(this,arguments)};return F[PROTOTYPE]=C[PROTOTYPE],F}(out):IS_PROTO&&"function"==typeof out?ctx(Function.call,out):out,IS_PROTO&&((exports.virtual||(exports.virtual={}))[key]=out,type&$export.R&&expProto&&!expProto[key]&&hide(expProto,key,out)))};$export.F=1,$export.G=2,$export.S=4,$export.P=8,$export.B=16,$export.W=32,$export.U=64,$export.R=128,module.exports=$export},function(module,exports){var global=module.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=global)},function(module,exports){var core=module.exports={version:"2.4.0"};"number"==typeof __e&&(__e=core)},function(module,exports,__webpack_require__){var aFunction=__webpack_require__(10);module.exports=function(fn,that,length){if(aFunction(fn),void 0===that)return fn;switch(length){case 1:return function(a){return fn.call(that,a)};case 2:return function(a,b){return fn.call(that,a,b)};case 3:return function(a,b,c){return fn.call(that,a,b,c)}}return function(){return fn.apply(that,arguments)}}},function(module,exports){module.exports=function(it){if("function"!=typeof it)throw TypeError(it+" is not a function!");return it}},function(module,exports,__webpack_require__){var dP=__webpack_require__(12),createDesc=__webpack_require__(20);module.exports=__webpack_require__(16)?function(object,key,value){return dP.f(object,key,createDesc(1,value))}:function(object,key,value){return object[key]=value,object}},function(module,exports,__webpack_require__){var anObject=__webpack_require__(13),IE8_DOM_DEFINE=__webpack_require__(15),toPrimitive=__webpack_require__(19),dP=Object.defineProperty;exports.f=__webpack_require__(16)?Object.defineProperty:function(O,P,Attributes){if(anObject(O),P=toPrimitive(P,!0),anObject(Attributes),IE8_DOM_DEFINE)try{return dP(O,P,Attributes)}catch(e){}if("get"in Attributes||"set"in Attributes)throw TypeError("Accessors not supported!");return"value"in Attributes&&(O[P]=Attributes.value),O}},function(module,exports,__webpack_require__){var isObject=__webpack_require__(14);module.exports=function(it){if(!isObject(it))throw TypeError(it+" is not an object!");return it}},function(module,exports){module.exports=function(it){return"object"==typeof it?null!==it:"function"==typeof it}},function(module,exports,__webpack_require__){module.exports=!__webpack_require__(16)&&!__webpack_require__(17)(function(){return 7!=Object.defineProperty(__webpack_require__(18)("div"),"a",{get:function(){return 7}}).a})},function(module,exports,__webpack_require__){module.exports=!__webpack_require__(17)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(module,exports){module.exports=function(exec){try{return!!exec()}catch(e){return!0}}},function(module,exports,__webpack_require__){var isObject=__webpack_require__(14),document=__webpack_require__(7).document,is=isObject(document)&&isObject(document.createElement);module.exports=function(it){return is?document.createElement(it):{}}},function(module,exports,__webpack_require__){var isObject=__webpack_require__(14);module.exports=function(it,S){if(!isObject(it))return it;var fn,val;if(S&&"function"==typeof(fn=it.toString)&&!isObject(val=fn.call(it)))return val;if("function"==typeof(fn=it.valueOf)&&!isObject(val=fn.call(it)))return val;if(!S&&"function"==typeof(fn=it.toString)&&!isObject(val=fn.call(it)))return val;throw TypeError("Can't convert object to primitive value")}},function(module,exports){module.exports=function(bitmap,value){return{enumerable:!(1&bitmap),configurable:!(2&bitmap),writable:!(4&bitmap),value:value}}},function(module,exports,__webpack_require__){"use strict";var getKeys=__webpack_require__(22),gOPS=__webpack_require__(37),pIE=__webpack_require__(38),toObject=__webpack_require__(39),IObject=__webpack_require__(26),$assign=Object.assign;module.exports=!$assign||__webpack_require__(17)(function(){var A={},B={},S=Symbol(),K="abcdefghijklmnopqrst";return A[S]=7,K.split("").forEach(function(k){B[k]=k}),7!=$assign({},A)[S]||Object.keys($assign({},B)).join("")!=K})?function(target,source){for(var T=toObject(target),aLen=arguments.length,index=1,getSymbols=gOPS.f,isEnum=pIE.f;aLen>index;)for(var key,S=IObject(arguments[index++]),keys=getSymbols?getKeys(S).concat(getSymbols(S)):getKeys(S),length=keys.length,j=0;length>j;)isEnum.call(S,key=keys[j++])&&(T[key]=S[key]);return T}:$assign},function(module,exports,__webpack_require__){var $keys=__webpack_require__(23),enumBugKeys=__webpack_require__(36);module.exports=Object.keys||function(O){return $keys(O,enumBugKeys)}},function(module,exports,__webpack_require__){var has=__webpack_require__(24),toIObject=__webpack_require__(25),arrayIndexOf=__webpack_require__(29)(!1),IE_PROTO=__webpack_require__(33)("IE_PROTO");module.exports=function(object,names){var key,O=toIObject(object),i=0,result=[];for(key in O)key!=IE_PROTO&&has(O,key)&&result.push(key);for(;names.length>i;)has(O,key=names[i++])&&(~arrayIndexOf(result,key)||result.push(key));return result}},function(module,exports){var hasOwnProperty={}.hasOwnProperty;module.exports=function(it,key){return hasOwnProperty.call(it,key)}},function(module,exports,__webpack_require__){var IObject=__webpack_require__(26),defined=__webpack_require__(28);module.exports=function(it){return IObject(defined(it))}},function(module,exports,__webpack_require__){var cof=__webpack_require__(27);module.exports=Object("z").propertyIsEnumerable(0)?Object:function(it){return"String"==cof(it)?it.split(""):Object(it)}},function(module,exports){var toString={}.toString;module.exports=function(it){return toString.call(it).slice(8,-1)}},function(module,exports){module.exports=function(it){if(void 0==it)throw TypeError("Can't call method on  "+it);return it}},function(module,exports,__webpack_require__){var toIObject=__webpack_require__(25),toLength=__webpack_require__(30),toIndex=__webpack_require__(32);module.exports=function(IS_INCLUDES){return function($this,el,fromIndex){var value,O=toIObject($this),length=toLength(O.length),index=toIndex(fromIndex,length);if(IS_INCLUDES&&el!=el){for(;length>index;)if(value=O[index++],value!=value)return!0}else for(;length>index;index++)if((IS_INCLUDES||index in O)&&O[index]===el)return IS_INCLUDES||index||0;return!IS_INCLUDES&&-1}}},function(module,exports,__webpack_require__){var toInteger=__webpack_require__(31),min=Math.min;module.exports=function(it){return it>0?min(toInteger(it),9007199254740991):0}},function(module,exports){var ceil=Math.ceil,floor=Math.floor;module.exports=function(it){return isNaN(it=+it)?0:(it>0?floor:ceil)(it)}},function(module,exports,__webpack_require__){var toInteger=__webpack_require__(31),max=Math.max,min=Math.min;module.exports=function(index,length){return index=toInteger(index),index<0?max(index+length,0):min(index,length)}},function(module,exports,__webpack_require__){var shared=__webpack_require__(34)("keys"),uid=__webpack_require__(35);module.exports=function(key){return shared[key]||(shared[key]=uid(key))}},function(module,exports,__webpack_require__){var global=__webpack_require__(7),SHARED="__core-js_shared__",store=global[SHARED]||(global[SHARED]={});module.exports=function(key){return store[key]||(store[key]={})}},function(module,exports){var id=0,px=Math.random();module.exports=function(key){return"Symbol(".concat(void 0===key?"":key,")_",(++id+px).toString(36))}},function(module,exports){module.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(module,exports){exports.f=Object.getOwnPropertySymbols},function(module,exports){exports.f={}.propertyIsEnumerable},function(module,exports,__webpack_require__){var defined=__webpack_require__(28);module.exports=function(it){return Object(defined(it))}},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var queryMap={podTitle:"podtitle",podIndex:"podindex",includePodId:"includepodid",excludePodId:"excludepodid",coordinates:"latlong",podState:"podstate",maxWidth:"maxwidth",plotWidth:"plotWidth",magnitude:"mag",scanTimeout:"scantimeout",podTimeout:"podtimeout",parseTimeout:"parsetimeout",formatTimeout:"formattimeout",ignoreCase:"ignorecase"},defaultQueryOptions={method:"GET",url:"http://api.wolframalpha.com/v2/query",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}},setAppIdCmd='export WA_APP_ID="<YOUR KEY HERE>"',setAppIdError="The Wolfram|Alpha API will not work without your APP_ID",noAppIdError=setAppIdError+". Before reinitializing wajs, run "+setAppIdCmd+".",constants={queryMap:queryMap,defaultQueryOptions:defaultQueryOptions,noAppIdError:noAppIdError};exports.default=constants},function(module,exports,__webpack_require__){"use strict";function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function generateQuery(input,options){var q=(0,_assign2.default)({},this.__requestOptions);return input&&input.length&&(q.query.input=input),(0,_keys2.default)(options||{}).forEach(function(key){if(options.hasOwnProperty(key)&&options[key]){var qKey=_constants2.default.queryMap[key]||key;q.query[qKey]=options[key]}}),q}function processQueryResponse(y,n,res){res.status>=200&&res.status<400&&$parseXML(res.body,function(err,xml){err&&n(err),y(new _query_result2.default(xml,res.body))})}function query(input,queryOptions){return new _bluebird.Promise(function(y,n){var prefix=input||"",opts=queryOptions||{};$net.request(generateQuery.call(this,prefix,opts)).then(processQueryResponse.bind(this,y,n)).catch(n)}.bind(this))}Object.defineProperty(exports,"__esModule",{value:!0});var _keys=__webpack_require__(42),_keys2=_interopRequireDefault(_keys),_assign=__webpack_require__(3),_assign2=_interopRequireDefault(_assign),_popsicle=__webpack_require__(46),$net=_interopRequireWildcard(_popsicle),_bluebird=__webpack_require__(47),_xml2js=__webpack_require__(48),$x=_interopRequireWildcard(_xml2js),_constants=__webpack_require__(40),_constants2=_interopRequireDefault(_constants),_query_result=__webpack_require__(49),_query_result2=_interopRequireDefault(_query_result),$parseXML=(new $x.Parser).parseString;exports.default=query},function(module,exports,__webpack_require__){module.exports={default:__webpack_require__(43),__esModule:!0}},function(module,exports,__webpack_require__){__webpack_require__(44),module.exports=__webpack_require__(8).Object.keys},function(module,exports,__webpack_require__){var toObject=__webpack_require__(39),$keys=__webpack_require__(22);__webpack_require__(45)("keys",function(){return function(it){return $keys(toObject(it))}})},function(module,exports,__webpack_require__){var $export=__webpack_require__(6),core=__webpack_require__(8),fails=__webpack_require__(17);module.exports=function(KEY,exec){var fn=(core.Object||{})[KEY]||Object[KEY],exp={};exp[KEY]=exec(fn),$export($export.S+$export.F*fails(function(){fn(1)}),"Object",exp)}},function(module,exports){module.exports=require("popsicle")},function(module,exports){module.exports=require("bluebird")},function(module,exports){module.exports=require("xml2js")},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function queryResult(xml,rawXml){if(!xml||!xml.queryresult)throw new Error("Invalid query result format");this.__xml=xml,this.__raw=rawXml||"",this.__root=liftAttributes((0,_assign2.default)({},xml.queryresult)),this.__pods=(this.__root.pod||[]).map(function(_pod){return new _pod3.default(_pod,this)}.bind(this))}function liftAttributes(obj){return lift((0,_assign2.default)({},obj))}function lift(tree){return(0,_traverse2.default)(tree).forEach(function(){if("$"===this.key){var currentPath=this.path.slice(0,this.path.length-1);this.delete(),this.keys.forEach(function(key){(0,_traverse2.default)(tree).set(currentPath.concat(key),this.node[key])}.bind(this))}}),tree}function toJson(){return(0,_stringify2.default)(this.__root)}function rawXml(){return this.__raw}function succeeded(){return"true"===this.__root.success}function failed(){return"true"===this.__root.error}function numPods(){return Number(this.__root.numpods||0)}function dataTypes(){return(this.__root.datatypes||"").split(",")}function error(){return this.__xml.queryresult.error||null}function pods(xmlFormat){return xmlFormat?getNodes.call(this,"pod"):this.__pods}function assumptions(xmlFormat){return xmlFormat?getNodes.call(this,"assumptions"):(this.__root.assumptions||[]).map(function(_assumption){return new _assumption3.default(_assumption.assumption[0],this)}.bind(this))}function sources(xmlFormat){return xmlFormat?getNodes.call(this,"sources"):this.__root.sources}function warnings(xmlFormat){return xmlFormat?getNodes.call(this,"warnings"):this.__root.warnings}function getNodes(key,xml){var __stack=[],__xml=xml?xml:_cheerio2.default.load(this.__raw,xmlOptions());return traverse(__stack,__xml.root(),collect.bind(this,key)),__stack.map(function(_node){return _cheerio2.default.load(_node,xmlOptions()).xml()})}function xmlOptions(){return{xmlMode:!0}}function traverse(stack,parsedXML,action){var __$root=(0,_cheerio2.default)(parsedXML),__root=__$root.get(0);action(stack,__root);var children=__$root.children();children.length&&children.each(function(i,el){traverse(stack,el,action)})}function collect(key,stack,__root){__root.tagName===key&&stack.push(__root)}Object.defineProperty(exports,"__esModule",{value:!0});var _stringify=__webpack_require__(50),_stringify2=_interopRequireDefault(_stringify),_assign=__webpack_require__(3),_assign2=_interopRequireDefault(_assign),_cheerio=__webpack_require__(52),_cheerio2=_interopRequireDefault(_cheerio),_traverse=__webpack_require__(53),_traverse2=_interopRequireDefault(_traverse),_pod2=__webpack_require__(54),_pod3=_interopRequireDefault(_pod2),_assumption2=__webpack_require__(56),_assumption3=_interopRequireDefault(_assumption2);queryResult.prototype={constructor:queryResult,rawXml:rawXml,toJson:toJson,succeeded:succeeded,failed:failed,numPods:numPods,dataTypes:dataTypes,error:error,pods:pods,assumptions:assumptions,sources:sources,warnings:warnings},exports.default=queryResult},function(module,exports,__webpack_require__){module.exports={default:__webpack_require__(51),__esModule:!0}},function(module,exports,__webpack_require__){var core=__webpack_require__(8),$JSON=core.JSON||(core.JSON={stringify:JSON.stringify});module.exports=function(it){return $JSON.stringify.apply($JSON,arguments)}},function(module,exports){module.exports=require("cheerio")},function(module,exports){module.exports=require("traverse")},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function pod(data,parent){(0,_assign2.default)(this,data),parent&&(this.__parent=parent),this.__data=data}function failed(){return"true"===this.error}function succeeded(){return!podFailed.call(this)}function numSubPods(){return Number(this.numsubpods||0)}function title(){return this.title||""}function scanner(){return this.scanner||""}function position(){return Number(this.position||0)}function asyncUrl(){return this.asynchurl||""}function subPods(xmlFormat){return xmlFormat?childXml.call(this,"subpod"):(this.subpod||[]).map(function(subpod){return new _subpod2.default(subpod)})}function states(xmlFormat){return xmlFormat?childXml.call(this,"states"):this.states||[]}function infos(xmlFormat){return xmlFormat?childXml.call(this,"infos"):this.infos||[]}function childXml(key){var __xml=_cheerio2.default.load(this.rawXml.call(this),xmlOptions()),__podXml=_cheerio2.default.load(__xml.root().get(0).children[0],xmlOptions()),items=[];return __podXml(key).each(function(i,el){var x=_cheerio2.default.load((0,_cheerio2.default)(el).get(0),xmlOptions()).xml()||"";items.push(x)}),items}function rawXml(){return rootXml.call(this,"pod")}function xmlOptions(){return{xmlMode:!0}}function rootXml(key){var __xml=_cheerio2.default.load(this.__parent.rawXml.call(this.__parent),xmlOptions()),__id=this.id,__filtered=__xml(key).filter(function(i,el){return(0,_cheerio2.default)(el).attr("id")===__id}),items=[];return __filtered.each(function(i,el){var x=_cheerio2.default.load((0,_cheerio2.default)(el).get(0),xmlOptions()).xml()||"";items.push(x)}),items}Object.defineProperty(exports,"__esModule",{value:!0});var _assign=__webpack_require__(3),_assign2=_interopRequireDefault(_assign),_cheerio=__webpack_require__(52),_cheerio2=_interopRequireDefault(_cheerio),_subpod=__webpack_require__(55),_subpod2=_interopRequireDefault(_subpod);pod.prototype={constructor:pod,failed:failed,succeeded:succeeded,numSubPods:numSubPods,getTitle:title,getScanner:scanner,getPosition:position,asyncEndpoint:asyncUrl,subPods:subPods,getStates:states,getInfos:infos,rawXml:rawXml},exports.default=pod},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function subPod(data){return(0,_assign2.default)(this,data)}function plainText(){return this.plaintext||""}function img(){return this.img||""}function title(){return this.title||""}Object.defineProperty(exports,"__esModule",{value:!0});var _assign=__webpack_require__(3),_assign2=_interopRequireDefault(_assign);subPod.prototype={constructor:subPod,getTitle:title,getPlainText:plainText,getImg:img},exports.default=subPod},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function assumption(data,parent){(0,_assign2.default)(this,data),parent&&(this.__parent=parent),this.__data=data}function type(){return this.type||""}function count(){return this.count||"0"}function template(){return this.template||""}function word(){return this.word||""}function value(){return this.value||[]}Object.defineProperty(exports,"__esModule",{value:!0});var _assign=__webpack_require__(3),_assign2=_interopRequireDefault(_assign);assumption.prototype={constructor:assumption,getType:type,getCount:count,getTemplate:template,getWord:word,getValue:value},exports.default=assumption}])});
//# sourceMappingURL=wajs.min.js.map